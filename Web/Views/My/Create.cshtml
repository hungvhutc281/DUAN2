
@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/MyLayout.cshtml";
}
<div class="col-md-6">
    <h1>Thêm nhân viên</h1>
    <form id="editForm">
    

        <div class="form-group">
            <label for="hoTen">Họ tên:</label>
            <input type="text" id="hoTen" name="hoTen" required>
        </div>

        <div class="form-group">
            <label for="diaChi">Địa chỉ:</label>
            <input type="text" id="diaChi" name="diaChi" required>
        </div>

        <div class="form-group">
            <label for="dienThoai">Điện thoại:</label>
            <input type="tel" id="dienThoai" name="dienThoai" required>
        </div>

        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
            <label for="ngaySinh">Ngày sinh:</label>
            <input type="date" id="ngaySinh" name="ngaySinh" required>
        </div>

        <div class="form-group">
            <label for="luong">Lương:</label>
            <input type="number" id="luong" name="luong" step="200" required>
        </div>

        <div class="form-group">
            <label for="anh">Ảnh:</label>
            <input type="text" id="anh" name="anh"
            <input type="file" id="fileInput" accept="image/*">>
        </div>

        <div class="form-group">
            <label for="congViec">Công việc:</label>
            <input type="text" id="maCongViec" name="congViec" required>
        </div>

        <div class="form-group">
            <label for="phongBan">Phòng ban:</label>
            <input type="text" id="maPhongBan" name="phongBan" required>
        </div>

        <button type="submit">Thêm</button>

    </form>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


<script>
    $(document).ready(function() {
        $('#editForm').submit(function(e) {
            e.preventDefault();

            // Lấy giá trị từ các trường input
            var hoTen = $('#hoTen').val();
            var diaChi = $('#diaChi').val();
            var dienThoai = $('#dienThoai').val();
            var email = $('#email').val();
            var ngaySinh = $('#ngaySinh').val();
            var luong = $('#luong').val();
            var anh = $('#anh').val();
            var maCongViec = $('#maCongViec').val();
            var maPhongBan = $('#maPhongBan').val();

            // Tạo đối tượng dữ liệu
            var data = {
                HoTen: hoTen,
                DiaChi: diaChi,
                DienThoai: dienThoai,
                Email: email,
                NgaySinh: ngaySinh,
                Luong: luong,
                Anh: anh,
                MaCongViec: maCongViec,
                MaPhongBan: maPhongBan
            };

            // Gửi yêu cầu POST đến API
            $.ajax({
                url: 'https://localhost:7260/api/NhanVien/Create',
                type: 'POST',
                dataType: 'json',
                contentType: 'application/json',
                data: JSON.stringify(data),
                success: function(response) {
                    // Xử lý kết quả thành công
                    console.log(response);
                    alert('Thêm nhân viên thành công!');
                    // $('#hoTen').val('');
                    // $('#diaChi').val('');
                    // $('#dienThoai').val('');
                    // $('#email').val('');
                    // $('#ngaySinh').val('');
                    // $('#luong').val('');
                    // $('#anh').val('');
                    // $('#maCongViec').val('');
                    // $('#maPhongBan').val('');
                },
                error: function(error) {
                    // Xử lý lỗi
                    console.log(error);
                    alert('Đã xảy ra lỗi khi thêm nhân viên!');
                }
            });
        });
    });
</script>
